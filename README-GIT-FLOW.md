# üåø DigitalMe Git Flow Strategy

## –°—Ç—Ä–∞—Ç–µ–≥–∏—è –≤–µ—Ç–æ–∫

### üìã –û–±–∑–æ—Ä –≤–µ—Ç–æ–∫

- **`master`** - –ü—Ä–æ–¥—É–∫—Ü–∏—è, –∑–∞—â–∏—â—ë–Ω–Ω–∞—è –≤–µ—Ç–∫–∞
- **`develop`** - –û—Å–Ω–æ–≤–Ω–∞—è –≤–µ—Ç–∫–∞ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
- **`feature/*`** - –í–µ—Ç–∫–∏ –Ω–æ–≤—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π (–±—É–¥—É—â–µ–µ)
- **`hotfix/*`** - –°—Ä–æ—á–Ω—ã–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è (–±—É–¥—É—â–µ–µ)

## üîÄ Workflow –ø—Ä–æ—Ü–µ—Å—Å

### 1. –ü–æ–≤—Å–µ–¥–Ω–µ–≤–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞
```bash
# –í—Å–µ–≥–¥–∞ —Ä–∞–±–æ—Ç–∞–µ–º –≤ develop
git checkout develop
git pull origin develop

# –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤—ã—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π
# ... –≤–∞—à–∞ —Ä–∞–±–æ—Ç–∞ ...
git add .
git commit -m "feat: –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ–π —Ñ—É–Ω–∫—Ü–∏–∏"
git push origin develop
```

### 2. –°–ª–∏—è–Ω–∏–µ –≤ master (Production)
```bash
# –°–æ–∑–¥–∞–Ω–∏–µ Pull Request develop ‚Üí master
# –ü–æ—Å–ª–µ —Ä–µ–≤—å—é –∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:
git checkout master
git pull origin master
git merge develop
git push origin master
# ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –ø–æ–ª–Ω—ã–π CI/CD pipeline
```

## ‚ö° CI/CD –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

### üî® develop –≤–µ—Ç–∫–∞
- **–ë—ã—Å—Ç—Ä–∞—è —Å–±–æ—Ä–∫–∞** (Debug —Ä–µ–∂–∏–º)
- **Unit —Ç–µ—Å—Ç—ã —Ç–æ–ª—å–∫–æ** (–±–µ–∑ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã—Ö)
- **Timeout: 10 –º–∏–Ω—É—Ç** (–±—ã—Å—Ç—Ä–∞—è –æ–±—Ä–∞—Ç–Ω–∞—è —Å–≤—è–∑—å)
- **–ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∏–ª—è –∫–æ–¥–∞** (—Ç–æ–ª—å–∫–æ –¥–ª—è PR)

**Workflow:** `.github/workflows/develop-ci.yml`

### üöÄ master –≤–µ—Ç–∫–∞ (Production)
- **–ü–æ–ª–Ω–∞—è —Å–±–æ—Ä–∫–∞** (Release —Ä–µ–∂–∏–º)  
- **–í—Å–µ —Ç–µ—Å—Ç—ã** (Unit + Integration)
- **Docker builds** –∏ registry push
- **Security scanning**
- **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π deploy** –≤ production
- **Timeout: 15 –º–∏–Ω—É—Ç**

**Workflow:** `.github/workflows/ci-cd.yml`

## üìä –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –ø—Ä–æ—Ü–µ—Å—Å–æ–≤

| –ê—Å–ø–µ–∫—Ç | develop | master |
|--------|---------|--------|
| **–°–±–æ—Ä–∫–∞** | Debug, –±—ã—Å—Ç—Ä–æ | Release, –ø–æ–ª–Ω–æ |
| **–¢–µ—Å—Ç—ã** | Unit —Ç–æ–ª—å–∫–æ | Unit + Integration |
| **Docker** | ‚ùå –ù–µ —Å–æ–±–∏—Ä–∞–µ—Ç—Å—è | ‚úÖ –ü–æ–ª–Ω—ã–π build + push |
| **Deploy** | ‚ùå –ù–µ—Ç | ‚úÖ Production |
| **Security** | ‚ùå –ü—Ä–æ–ø—É—Å–∫–∞–µ—Ç—Å—è | ‚úÖ –ü–æ–ª–Ω–æ–µ —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ |
| **–í—Ä–µ–º—è** | ~5 –º–∏–Ω—É—Ç | ~15 –º–∏–Ω—É—Ç |

## üõ°Ô∏è –ó–∞—â–∏—Ç–∞ –≤–µ—Ç–æ–∫

### Master –≤–µ—Ç–∫–∞
- **–ü—Ä—è–º—ã–µ push –∑–∞–ø—Ä–µ—â–µ–Ω—ã** (—Ç—Ä–µ–±—É–µ—Ç—Å—è PR)
- **–û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π code review**
- **–í—Å–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ –¥–æ–ª–∂–Ω—ã –ø—Ä–æ–π—Ç–∏**
- **–ê–∫—Ç—É–∞–ª—å–Ω–æ—Å—Ç—å —Å –æ—Å–Ω–æ–≤–Ω–æ–π –≤–µ—Ç–∫–æ–π**

### Develop –≤–µ—Ç–∫–∞  
- **–°–≤–æ–±–æ–¥–Ω—ã–µ commit'—ã**
- **–ë—ã—Å—Ç—Ä–∞—è –æ–±—Ä–∞—Ç–Ω–∞—è —Å–≤—è–∑—å**
- **Code review –¥–ª—è PR (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)**

## üìù –°–æ–≥–ª–∞—à–µ–Ω–∏—è –æ –∫–æ–º–º–∏—Ç–∞—Ö

### –§–æ—Ä–º–∞—Ç
```
type(scope): –∫—Ä–∞—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ

–ü–æ–¥—Ä–æ–±–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
```

### –¢–∏–ø—ã
- **feat** - –Ω–æ–≤–∞—è —Ñ—É–Ω–∫—Ü–∏—è
- **fix** - –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –±–∞–≥–∞  
- **docs** - –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- **style** - —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
- **refactor** - —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥
- **test** - —Ç–µ—Å—Ç—ã
- **chore** - —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –∑–∞–¥–∞—á–∏

### –ü—Ä–∏–º–µ—Ä—ã
```bash
git commit -m "feat(auth): –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ JWT –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏"
git commit -m "fix(api): –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ null reference –≤ UserController"
git commit -m "docs(readme): –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–π –ø–æ —É—Å—Ç–∞–Ω–æ–≤–∫–µ"
```

## üöÄ –ë—É–¥—É—â–∏–µ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è

### Feature –≤–µ—Ç–∫–∏
```bash
# –°–æ–∑–¥–∞–Ω–∏–µ feature –≤–µ—Ç–∫–∏ –æ—Ç develop
git checkout develop
git checkout -b feature/user-authentication
# ... —Ä–∞–±–æ—Ç–∞ ...
git push origin feature/user-authentication
# PR: feature/user-authentication ‚Üí develop
```

### Hotfix –≤–µ—Ç–∫–∏
```bash
# –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–π –±–∞–≥ –≤ production
git checkout master
git checkout -b hotfix/critical-security-fix
# ... –±—ã—Å—Ç—Ä–æ–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ ...
git push origin hotfix/critical-security-fix
# PR: hotfix/critical-security-fix ‚Üí master
```

## üéØ –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

### ‚úÖ –•–æ—Ä–æ—à–∏–µ –ø—Ä–∞–∫—Ç–∏–∫–∏
- –†–∞–±–æ—Ç–∞–π—Ç–µ –≤ develop –¥–ª—è –µ–∂–µ–¥–Ω–µ–≤–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
- –î–µ–ª–∞–π—Ç–µ —á–∞—Å—Ç—ã–µ –Ω–µ–±–æ–ª—å—à–∏–µ –∫–æ–º–º–∏—Ç—ã
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –æ–ø–∏—Å–∞—Ç–µ–ª—å–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –∫–æ–º–º–∏—Ç–æ–≤
- –¢–µ—Å—Ç–∏—Ä—É–π—Ç–µ –ª–æ–∫–∞–ª—å–Ω–æ –ø–µ—Ä–µ–¥ push
- Master —Ç–æ–ª—å–∫–æ —á–µ—Ä–µ–∑ PR —Å —Ä–µ–≤—å—é

### ‚ùå –ò–∑–±–µ–≥–∞–π—Ç–µ
- –ü—Ä—è–º—ã—Ö push –≤ master
- –ë–æ–ª—å—à–∏—Ö –∫–æ–º–º–∏—Ç–æ–≤ —Å –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–º–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è–º–∏  
- –ù–µ–æ–ø–∏—Å–∞—Ç–µ–ª—å–Ω—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π ("fix", "update")
- –ö–æ–º–º–∏—Ç–æ–≤ –±–µ–∑ –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
- –ü—Ä–æ–ø—É—Å–∫–∞ code review –¥–ª—è –≤–∞–∂–Ω—ã—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π

## üìû –ö–æ–º–∞–Ω–¥—ã –¥–ª—è —Ä–∞–±–æ—Ç—ã

### –ï–∂–µ–¥–Ω–µ–≤–Ω–∞—è —Ä–∞–±–æ—Ç–∞
```bash
# –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –Ω–∞ develop
git checkout develop

# –ü–æ–ª—É—á–µ–Ω–∏–µ –ø–æ—Å–ª–µ–¥–Ω–∏—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π  
git pull origin develop

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞
git status

# –ë—ã—Å—Ç—Ä–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏
./scripts/test-ci-locally.sh
```

### –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∫ production
```bash
# –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ develop –≥–æ—Ç–æ–≤
git checkout develop
git status  # –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å clean

# –°–æ–∑–¥–∞–Ω–∏–µ PR develop ‚Üí master —á–µ—Ä–µ–∑ GitHub UI
# –ü–æ—Å–ª–µ –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏—è —Ä–µ–≤—å—é - master –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±–Ω–æ–≤–∏—Ç—Å—è
```

---

**üéØ –¶–µ–ª—å:** –ë—ã—Å—Ç—Ä–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞ –≤ develop + —Å—Ç–∞–±–∏–ª—å–Ω–∞—è –ø—Ä–æ–¥—É–∫—Ü–∏—è –≤ master

**üîÑ –ü—Ä–æ—Ü–µ—Å—Å:** develop (–µ–∂–µ–¥–Ω–µ–≤–Ω–æ) ‚Üí PR ‚Üí master (production) ‚Üí –∞–≤—Ç–æ–¥–µ–ø–ª–æ–π